---
layout: single
title: "Windows Server에 NAS를 사용하는 웹 서비스가 NAS에 파일을 쓰지 못하는 현상"
description: ""
date: 2021-08-24 12:00:00 -0400
# modified: 
tags: 
- nas
- windows
comments:
 true
share: true
toc_sticky: true
---



## 상황

1. 어떤 웹 서비스가 Windows 서버 위에서 실행되고 있음
2. 해당 웹 어플리케이션은 JEUS나 WebLogic 등의 WAS에 인스턴스의 형태로 실행 중
3. 이 웹 서비스(웹 어플리케이션)는 Windows Server에 마운트된 NAS를 사용하게 되어 있음
4. 웹 어플리케이션이 NAS의 파일들을 읽거나 쓸 수 있어야 정상적인 서비스를 제공할 수 있음

**웹 어플리케이션이 NAS의 파일을 읽거나 쓰지 못하는 장애가 발생**



## 해결

이 웹 어플리케이션이 NAS를 원활하게 사용하려면 다음과 같은 조건을 충족해야 한다.

1. 해당 NAS에 지정된 소유자와 권한이 웹 어플리케이션을 구동시킨 소유자를 포함시킬 것

2. 웹 어플리케이션(WAS)이 구동 중인 **그 계정 그 세션**에 NAS가 연결되어 있어야 함

   확인 방법

   - 탐색기를 열었을 때 '내 PC' 하위에 해당 NAS가 보이는지 확인

     **X표기 되어있으면 안됨.** 로그인을 해 줘서 반드시 연결 상태로 만든다.

   - 웹 어플리케이션을 구동시킨 계정 권한으로 cmd 열고 `net use` 입력 후 해당 NAS가 보이는지 확인

     **★중요★**

     웹 어플리케이션을 관리자 권한으로 실행시켰는지의 여부를 반드시 확인한다.

     같은 계정으로 연결되어 있어도, 웹 어플리케이션과 NAS 양쪽 모두 관리자 권한이거나, 일반 계정이거나 해야 한다.

