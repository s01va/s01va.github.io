{"componentChunkName":"component---node-modules-gatsby-theme-portfolio-minimal-src-templates-article-index-tsx","path":"/Windows-Batch-file/","result":{"pageContext":{"article":{"banner":{"alt":null,"caption":null,"src":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/91410da37be3d6afb57448272ad0db61/28e88/0.png","srcSet":"/static/91410da37be3d6afb57448272ad0db61/db7a7/0.png 71w,\n/static/91410da37be3d6afb57448272ad0db61/2b65a/0.png 142w,\n/static/91410da37be3d6afb57448272ad0db61/28e88/0.png 284w","sizes":"(min-width: 284px) 284px, 100vw"},"sources":[{"srcSet":"/static/91410da37be3d6afb57448272ad0db61/ed67f/0.webp 71w,\n/static/91410da37be3d6afb57448272ad0db61/43197/0.webp 142w,\n/static/91410da37be3d6afb57448272ad0db61/66ca8/0.webp 284w","type":"image/webp","sizes":"(min-width: 284px) 284px, 100vw"}]},"width":660,"height":399.71830985915494}}}},"body":"<p>자주 쓰이는 Batch shell 키워드 리스트:</p>\n<ul>\n<li>@ECHO off</li>\n<li>title</li>\n<li>set</li>\n<li>@REM</li>\n<li>%[SOMEVAR]%</li>\n<li>2>&#x26;1</li>\n<li>start</li>\n<li>move</li>\n<li>각종 strip</li>\n</ul>\n<h3>@ECHO off</h3>\n<p>명령어의 복창을 방지한다. 배치파일 내에 여러가지 명령어들을 저장해 두었을 시, 그 명령어들의 결과만을 출력한다.</p>\n<h3>title</h3>\n<p>배치파일이 실행되는 cmd 창의 제목을 지정한다.</p>\n<h3>@REM</h3>\n<p>주석 처리. C계열 언어의 '//'나 파이썬의 '#'에 준함</p>\n<h3>set</h3>\n<p>변수 설정.\r\nex) set VAR=15</p>\n<h3>%[SOMEVAR]%</h3>\n<p>환경변수 또는 현재 batch파일 내에서 지정한 변수 불러오기</p>\n<h3>2>&#x26;1</h3>\n<p>2는 stderr, 1은 stdout이다. standard error를 standard output으로 돌리는 것.</p>\n<h3>start</h3>\n<p>실행파일 실행.\r\n자주쓰는 옵션 \\b: 새 Window에서 실행하지 않고 현재 Window에서 바로 실행</p>\n<h3>move</h3>\n<p>파일 이동 또는 파일이름 변경\r\nmove [원본] [변경후]</p>\n<h3>각종 strip</h3>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token operator\">@</span><span class=\"token command\"><span class=\"token keyword\">ECHO</span> OFF</span>\r\n<span class=\"token command\"><span class=\"token keyword\">set</span> <span class=\"token variable\">PREFIX</span><span class=\"token operator\">=</span><span class=\"token variable\">%DATE%</span></span>\r\n<span class=\"token command\"><span class=\"token keyword\">move</span> log.txt log<span class=\"token variable\">%PREFIX%</span>.txt</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 284px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/91410da37be3d6afb57448272ad0db61/62f93/0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 17.575757575757578%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAvUlEQVR42q3OTU7CQABA4TGCgY1QpjOd/9LagVSlVqo0cv97PaOJ4QIuvu3LE8djjzMGHyI5H7CVQWuFsZ5xHFBKkVLCVBUp1qQQcdbiXcD7QGUspZSkVJNiROx2EvlDljRNw/h+pmufOE8fzF9XhtMzfd+T9g3z5ZNpmrjMV95eX2jblpwzp2FAl4piu0UIIfizuF8iy5L1akVRFMR6T84dKQYWywe8d7+31noOucM5y2bziNKau1vnFvwP3yGDYxH0b7X9AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/91410da37be3d6afb57448272ad0db61/c9b55/0.webp 165w,\n/static/91410da37be3d6afb57448272ad0db61/b185b/0.webp 284w\"\n              sizes=\"(max-width: 284px) 100vw, 284px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/91410da37be3d6afb57448272ad0db61/04c57/0.png 165w,\n/static/91410da37be3d6afb57448272ad0db61/62f93/0.png 284w\"\n            sizes=\"(max-width: 284px) 100vw, 284px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/91410da37be3d6afb57448272ad0db61/62f93/0.png\"\n            alt=\"cmd batch 0\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 474px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f92854e0f6ba819a0dc5b7f686563794/5595f/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9.090909090909092%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAeElEQVR42h2LSQ7DIBDA+pFsasiJHYZEUNL2/49yVQ6WfLAf78+XV6s454gxIiKs60pKCe89xlpKKThrUccxvJwXwXu2bRv8+2maxvPo/ebunVobrTb2/cmyLIQQcc6ijSbnjNEapRTneSGSKSLElIgxMM/zwBjLD4QVPcO+SMNBAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/f92854e0f6ba819a0dc5b7f686563794/c9b55/1.webp 165w,\n/static/f92854e0f6ba819a0dc5b7f686563794/f2908/1.webp 330w,\n/static/f92854e0f6ba819a0dc5b7f686563794/01944/1.webp 474w\"\n              sizes=\"(max-width: 474px) 100vw, 474px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/f92854e0f6ba819a0dc5b7f686563794/04c57/1.png 165w,\n/static/f92854e0f6ba819a0dc5b7f686563794/d9ecf/1.png 330w,\n/static/f92854e0f6ba819a0dc5b7f686563794/5595f/1.png 474w\"\n            sizes=\"(max-width: 474px) 100vw, 474px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/f92854e0f6ba819a0dc5b7f686563794/5595f/1.png\"\n            alt=\"logfile1\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>:~[number]\r\n[number]~끝까지를 지정한다.\r\n이미 생성해 놓은 log.txt파일의 이름을 변경하는 것으로 실험하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token operator\">@</span><span class=\"token command\"><span class=\"token keyword\">ECHO</span> OFF</span>\r\n<span class=\"token command\"><span class=\"token keyword\">set</span> <span class=\"token variable\">PREFIX</span><span class=\"token operator\">=</span><span class=\"token variable\">%DATE%</span></span>\r\n<span class=\"token operator\">@</span><span class=\"token command\"><span class=\"token keyword\">REM</span> move log.txt log<span class=\"token variable\">%PREFIX%</span>.txt</span>\r\n<span class=\"token command\"><span class=\"token keyword\">set</span> <span class=\"token variable\">PREFIX2</span><span class=\"token operator\">=</span><span class=\"token variable\">%PREFIX:~2%</span></span>\r\n<span class=\"token command\"><span class=\"token keyword\">move</span> log<span class=\"token variable\">%PREFIX%</span>.txt log<span class=\"token variable\">%PREFIX2%</span>.txt</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 468px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c4b79867a7f05a636bcfbcf1caeefa5f/90372/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 10.303030303030305%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAfklEQVR42jXMQQ6CMBQAUQ4ChETSUj+xrf0FqQYvQsT7X2JUEheT2b1q398sy4L3F1JKxBCo6xoZR64xIiKoZkYRjLVMU0ZVccNA13VHbdvinCN4T7W9dtb1SSmFR7kfyB+MMSByPoDfrbXM842kiqZEzpm+P9E0DcYY/Bf8ALKaPizdep7HAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/c4b79867a7f05a636bcfbcf1caeefa5f/c9b55/2.webp 165w,\n/static/c4b79867a7f05a636bcfbcf1caeefa5f/f2908/2.webp 330w,\n/static/c4b79867a7f05a636bcfbcf1caeefa5f/0799c/2.webp 468w\"\n              sizes=\"(max-width: 468px) 100vw, 468px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/c4b79867a7f05a636bcfbcf1caeefa5f/04c57/2.png 165w,\n/static/c4b79867a7f05a636bcfbcf1caeefa5f/d9ecf/2.png 330w,\n/static/c4b79867a7f05a636bcfbcf1caeefa5f/90372/2.png 468w\"\n            sizes=\"(max-width: 468px) 100vw, 468px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/c4b79867a7f05a636bcfbcf1caeefa5f/90372/2.png\"\n            alt=\"logfile2\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>\"2019-11-18\"이라는 문자열의 index가 2인 자리부터 끝까지 지정되어 19-11-18이 된 것을 볼 수 있다.</p>\n<p>:[]=\r\n[]자리에 해당하는 문자열을 잘라낸다.</p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token operator\">@</span><span class=\"token command\"><span class=\"token keyword\">ECHO</span> OFF</span>\r\n<span class=\"token command\"><span class=\"token keyword\">set</span> <span class=\"token variable\">PREFIX</span><span class=\"token operator\">=</span><span class=\"token variable\">%DATE%</span></span>\r\n<span class=\"token operator\">@</span><span class=\"token command\"><span class=\"token keyword\">REM</span> move log.txt log<span class=\"token variable\">%PREFIX%</span>.txt</span>\r\n<span class=\"token command\"><span class=\"token keyword\">set</span> <span class=\"token variable\">PREFIX2</span><span class=\"token operator\">=</span><span class=\"token variable\">%PREFIX:~2%</span></span>\r\n<span class=\"token operator\">@</span><span class=\"token command\"><span class=\"token keyword\">REM</span> move log<span class=\"token variable\">%PREFIX%</span>.txt log<span class=\"token variable\">%PREFIX2%</span>.txt</span>\r\n<span class=\"token command\"><span class=\"token keyword\">set</span> <span class=\"token variable\">PREFIX3</span><span class=\"token operator\">=</span><span class=\"token variable\">%PREFIX2:</span><span class=\"token operator\">-=</span><span class=\"token operator\">%</span></span>\r\n<span class=\"token command\"><span class=\"token keyword\">move</span> log<span class=\"token variable\">%PREFIX2%</span>.txt log<span class=\"token variable\">%PREFIX3%</span>.txt</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 470px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/39efdce5640da45cd632d1b1628562ac/f96db/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 9.696969696969697%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAdklEQVR42j3NQQ6DIBRFURdiqARlgGA/AsUEBux/U7cJSTt8g3ve0nsnpcTzVLz3rOvKYS05J4I/eYtQSsEYg0Sh1sp93+y7QWvNtm0opbiuixACyxiD1hq9tRm+lGI/7Dzx/kREyDlPMMb4Bz+lzP0DnXMT/AI8fz0uUT8V3QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/39efdce5640da45cd632d1b1628562ac/c9b55/3.webp 165w,\n/static/39efdce5640da45cd632d1b1628562ac/f2908/3.webp 330w,\n/static/39efdce5640da45cd632d1b1628562ac/4424c/3.webp 470w\"\n              sizes=\"(max-width: 470px) 100vw, 470px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/39efdce5640da45cd632d1b1628562ac/04c57/3.png 165w,\n/static/39efdce5640da45cd632d1b1628562ac/d9ecf/3.png 330w,\n/static/39efdce5640da45cd632d1b1628562ac/f96db/3.png 470w\"\n            sizes=\"(max-width: 470px) 100vw, 470px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/39efdce5640da45cd632d1b1628562ac/f96db/3.png\"\n            alt=\"logfile3\"\n            title=\"\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>\"19-11-18\"에서 -가 사라진 191118이 된 것을 볼 수 있다.</p>\n<p>기타 cmd창 커스터마이즈</p>\n<ul>\n<li>color</li>\n<li>mode con cols=[] lines=[]</li>\n</ul>\n<h3>color</h3>\n<p>color [1][2]\r\n[1]은 배경색, [2]는 글씨색이다.</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Color</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>0</td>\n<td>Black</td>\n</tr>\n<tr>\n<td>8</td>\n<td>Gray</td>\n</tr>\n<tr>\n<td>1</td>\n<td>Blue</td>\n</tr>\n<tr>\n<td>9</td>\n<td>Light Blue</td>\n</tr>\n<tr>\n<td>2</td>\n<td>Green</td>\n</tr>\n<tr>\n<td>A</td>\n<td>Light Green</td>\n</tr>\n<tr>\n<td>3</td>\n<td>Aqua</td>\n</tr>\n<tr>\n<td>B</td>\n<td>Light Aqua</td>\n</tr>\n<tr>\n<td>4</td>\n<td>Red</td>\n</tr>\n<tr>\n<td>C</td>\n<td>Light Red</td>\n</tr>\n<tr>\n<td>5</td>\n<td>Purple</td>\n</tr>\n<tr>\n<td>D</td>\n<td>Light Purple</td>\n</tr>\n<tr>\n<td>6</td>\n<td>Yellow</td>\n</tr>\n<tr>\n<td>E</td>\n<td>Light Yellow</td>\n</tr>\n<tr>\n<td>7</td>\n<td>White</td>\n</tr>\n<tr>\n<td>F</td>\n<td>Bright White</td>\n</tr>\n</tbody>\n</table>\n<h3>mode con cols=[] lines=[]</h3>\n<p>창 크기를 조절하는 명령어이다.\r\nmode con cols=[가로크기] lines=[세로크기]</p>\n<p>참고한 곳: <a href=\"https://ss64.com/nt/\">https://ss64.com/nt/</a></p>\n<h2>자주 쓰는 조합</h2>\n<h3>주기적인 로그삭제</h3>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token command\"><span class=\"token keyword\">forfiles</span> <span class=\"token parameter attr-name\">/p</span> <span class=\"token string\">\"[path]\"</span> <span class=\"token parameter attr-name\">/s</span> <span class=\"token parameter attr-name\">/m</span> [words to search] <span class=\"token parameter attr-name\">/d</span> -[date] <span class=\"token parameter attr-name\">/c</span> <span class=\"token string\">\"cmd /c del @path\"</span></span></code></pre></div>\n<table>\n<thead>\n<tr>\n<th>Option</th>\n<th>description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>/p</td>\n<td>path</td>\n</tr>\n<tr>\n<td>/s</td>\n<td>search including subdirectories</td>\n</tr>\n<tr>\n<td>/m</td>\n<td>search specific words</td>\n</tr>\n<tr>\n<td>/d</td>\n<td>date</td>\n</tr>\n<tr>\n<td>/c</td>\n<td>command</td>\n</tr>\n</tbody>\n</table>\n<p>ex)</p>\n<div class=\"gatsby-highlight\" data-language=\"batch\"><pre class=\"language-batch\"><code class=\"language-batch\"><span class=\"token command\"><span class=\"token keyword\">forfiles</span> <span class=\"token parameter attr-name\">/p</span> <span class=\"token string\">\"C:\\Temp\\\" /s /m *.log /d -10 /c \"</span>cmd <span class=\"token parameter attr-name\">/c</span> del @path</span>\"</code></pre></div>\n<p>의미: C:\\Temp부터 하위 디렉토리 전부를 대상으로, 파일명이 *.log이며 생성된지 10일이 넘은 파일들을 모두 삭제한다.</p>","categories":["setting","was"],"date":"November 14, 2019","description":null,"id":"6d57910f-892f-552e-b897-234e82078595","keywords":["windows","cmd","batchfile","script"],"slug":"/Windows-Batch-file/","title":"Windows Batch file 만들기","readingTime":{"text":"4 min read"}},"listingPagePath":"/blog/"}},"staticQueryHashes":["1094019748","460736852"],"slicesMap":{}}